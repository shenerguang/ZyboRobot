Zybo Robot Demo

Description
1.This demo is provide by digilent, you can visit following website for more information.
http://www.digilentchina.com/productSearch.asp?key=zrobot

******************************************************************************
Where to download code
1.You can download openloop FAT partition binary from:

2.You can download openloop EXT partition binary from:
http://pan.baidu.com/s/1i300mLR

3.You can download closeloop FAT partition binary from:

4.You can download closeloop EXT partition binary from:

5.You can download openloop Vivado project from:
http://pan.baidu.com/s/1eQ4Adk2
Please open with Vivado 2013.4

6.You can download closeloop Vivado project from:
http://pan.baidu.com/s/1jGvE2ou
Please open with Vivado 2014.2
Register address allocation:
http://pan.baidu.com/s/1o6AzyQY
 
******************************************************************************
How to use TP-LINK WN823N
Firstly, you should disconnect battery charger of zrobot.
Secondly, you should connect zybo to bottom board with usb cable.
Thirdly, connect wifi and webcam to bottom board. 

1.run ifconfig -a
and see wlan No. in my zybo, it is wlan2

2.vi /etc/udhcpd.conf
and modify wlan0 to wlan2

3.vi /etc/network/interfaces
modify wlan0 to wlan2

3.vi /etc/hostapd/hostapd.conf
modify ssid to yourssid
modify wlan0 to wlan2

4.vi /root/go_wlan.sh
modify wlan0 to wlan2

5.Reboot zybo or try to run /root/go_wlan.sh

******************************************************************************
Hot to use mjpeg and Java applet
1.cd /root/mjpeg_face_leaf_detection/mjpg-streamer

2.export LD_LIBRARY_PATH=/root/mjpeg_face_leaf_detection/mjpg-streamer

3../mjpg_streamer -i "input_uvc.so -y -f 5 -r 640*480 -q 60" "output_http.so -p 8080 -w /var/www"

4.Open IE, browse to 192.168.0.1, install the Java plug-in folling prompts.

5.Open "Control Pannel"->"Programs"->"Java"->"Security"
Change Security Level to Medium.
Reopen IE and click "allow" in the prompt window.

******************************************************************************
Uboot configuration

1.git clone https://github.com/Xilinx/u-boot-xlnx.git
or you can clone https://github.com/shenerguang/u-boot-xlnx
and skip the following changes.

2.cd u-boot-xlnx/include/configs

3.vi zynq_zed.h
27 #define CONFIG_ZYNQ_PS_CLK_FREQ 50000000UL

4.vi zynq-common.h
228     "sdboot=if mmcinfo; then " \
229             "run uenvboot; " \
230             "echo Copying Linux from SD to RAM... && " \
231             "fatload mmc 0 0x3000000 ${kernel_image} && " \
232             "fatload mmc 0 0x2A00000 ${devicetree_image} && " \
233             "bootm 0x3000000 - 0x2A00000; " \
234         "fi\0" \

5. cd ../../
make zynq_zed_config
make
cp u-boot u-boot.elf

******************************************************************************
Kernel Configuration

1.git clone https://github.com/shenerguang/linux-digilent

2.cd linux_digilent

3.make ARCH=arm digilent_zybo_defconfig
or you can make zybo_robot_defconfig and skip the following configurations.

4.make ARCH=arm menuconfig
4.1.System Type->
	Xilinx Specific Options->
		[ ]Device Tree At Fixed Address
destination:boot from second sector successfully.

4.2.Networking support->
	wireless->
		cfg80211 and its sub items
		Common routines for IEEE802.11 drivers
		Generic IEEE 802.11 Networking Stack (!important!)
Device Drivers->
	Network device support->
		Ethernet driver support->
			all xilinx driver choose
		PHY Device support and infrastructure->
			Marvell PHYS
			VITESSE PHYS
			REALTEK PHYS
			Support for bitbanged MDIO buses
		Wireless LAN->
			IEEE802.11 for HOST AP and sub items
			Realtek RTL8192CU/RTL8188CU USB Wireless
destination:tplink  wn823n(RTL8192CU) wifi support

4.3.Device Drivers->
	multimedia support->
		Cameras/video grabbers support
		Video capture adapters->
			V4L USB devices->
				usb video class(UVC)
				GSPCA based webcams
destination:configure web cam support

******************************************************************************
 
References
1.You can download openloop FAT partition binary from:

